# Craft Creator 产品定义文档 - 第二部分：核心功能模块

**文档信息**
- 模型：Claude Sonnet 4.5 (claude-sonnet-4-5-20250929)
- 创建时间：2026-01-24 09:55:00
- 作者：@Ysf

---

## 核心功能模块概览

Craft Creator 包含 4 个核心功能模块，它们相互协作，形成完整的创作工作流。

```
┌─────────────────────────────────────────────────────────┐
│              1. AI Agent 对话中心                        │
│         （核心交互界面，任务理解与执行）                  │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│              2. 脚本创作工作台                           │
│         （内容创作的核心，所有形式的起点）                │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│              3. 三层素材管理系统                         │
│         （来源层 → 管理层 → 使用层）                     │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│              4. 内容生成引擎                             │
│         （脚本 → 图文/视频，多平台适配）                 │
└─────────────────────────────────────────────────────────┘
```

---

## 1. AI Agent 对话中心

### 功能描述
核心交互界面，类似 CreatorFlow 的会话系统，但专门针对内容创作场景优化。

### 核心能力

**自然语言交互**
- 用户用日常语言描述创作需求
- 支持模糊需求，Agent 通过对话逐步明确
- 支持富文本消息（代码块、表格、图片）

**任务理解与拆解**
- Agent 自动将复杂需求拆解为可执行步骤
- 显示任务执行计划，用户可确认或调整
- 支持并行任务和依赖关系管理

**多轮对话优化**
- 通过对话逐步明确创作方向
- 记忆上下文，支持连续对话
- 智能追问关键信息

**实时进度展示**
- 可视化显示 Agent 正在执行的任务
- 工具调用透明化（显示调用的工具和参数）
- 支持中断和恢复

### 典型对话示例

```
用户：我想做一期关于 AI 工具的视频
Agent：好的！请问：
      - 目标平台：抖音/B站/小红书？
      - 视频时长：3分钟/5分钟/10分钟？
      - 内容类型：教程/评测/科普？

用户：B站，5分钟，评测类
Agent：明白了。我会帮你：
      1. 分析近期热门 AI 工具评测视频
      2. 生成评测脚本大纲
      3. 推荐相关素材

      开始执行吗？

用户：开始
Agent：✓ 已分析 15 个热门视频
      ✓ 已生成脚本大纲（3个工具对比）
      ✓ 已准备 20 个素材建议

      脚本大纲已生成，请查看编辑器
```

---

## 2. 脚本创作工作台

### 功能描述
内容创作的核心，所有内容形式的起点。提供强大的脚本创作和管理能力。

### 核心功能

**智能脚本生成**
- 基于选题自动生成结构化脚本
- 支持多种内容类型（教程、评测、Vlog、科普等）
- AI 分析爆款内容，提供结构建议

**脚本模板库**
- 不同类型内容的脚本框架
- 用户可保存自己的模板
- 社区共享优质模板

**多版本管理**
- 保存脚本的不同版本
- 支持版本对比和回滚
- 记录每次修改的原因和时间

**脚本标注系统**
- 标记镜头需求（特写、全景等）
- 标记配音和字幕
- 标记素材需求（"需要一个日落镜头"）
- 标记时长和节奏

**协作编辑**
- AI 和人工协同编辑
- AI 实时提供优化建议
- 支持快速接受或拒绝建议

### 脚本数据结构

```typescript
Script {
  sections: [
    {
      type: 'opening',  // 开场
      duration: 15,     // 15秒
      content: '你是否也遇到过...',
      voiceOver: '配音文本',
      assetRequirements: [
        { type: 'video', description: '用户困惑的表情' }
      ]
    },
    {
      type: 'body',     // 主体
      duration: 120,    // 2分钟
      content: '今天测试3款AI工具...',
      // ...
    }
  ]
}
```

---

## 3. 三层素材管理系统

### 架构设计

```
┌─────────────────────────────────────────────────────────┐
│                    素材来源层                            │
│  - 本地素材扫描                                          │
│  - 全网素材聚合（Unsplash, Pexels）                     │
│  - AI 素材生成（Midjourney, Stable Diffusion）          │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│                    素材管理层                            │
│  - 项目素材库（按项目组织）                              │
│  - 智能分类和标签（AI 自动识别）                         │
│  - 素材关系图谱（素材与脚本、项目的关联）                │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│                    素材使用层                            │
│  - 智能推荐引擎（根据脚本推荐素材）                      │
│  - 自然语言检索（"找一张日落的照片"）                   │
│  - 素材预览和快速插入                                    │
└─────────────────────────────────────────────────────────┘
```

### 素材来源层

**本地素材扫描**
- 自动发现和整理本地文件
- 监控指定文件夹的变化
- 支持常见格式（图片、视频、音频）

**全网素材聚合**
- 接入素材网站 API（Unsplash、Pexels、Pixabay）
- 统一搜索界面
- 一键下载和导入

**AI 素材生成**
- 集成 AI 图片生成（Midjourney、Stable Diffusion）
- 集成 AI 音乐生成
- 根据脚本需求自动生成素材

### 素材管理层

**项目素材库**
- 每个创作项目独立的素材集合
- 支持素材复用和跨项目引用
- 素材使用记录和统计

**智能分类和标签**
- AI 自动识别素材内容
- 图片识别（物体、场景、情绪）
- 视频分析（关键帧、主题）
- 自动生成描述性标签

**素材关系图谱**
- 素材与脚本段落的关联
- 素材与项目的关联
- 相似素材推荐

### 素材使用层

**智能推荐引擎**
- 创作时根据脚本内容推荐素材
- 基于历史使用模式推荐
- 考虑素材质量和适配度

**自然语言检索**
- 用描述性语言搜索素材
- 语义理解（"日落" = "黄昏"、"傍晚"）
- 向量化检索，支持模糊匹配

**素材预览和快速插入**
- 悬停预览（图片大图、视频播放）
- 拖拽添加到脚本
- 批量操作

---

## 4. 内容生成引擎

### 功能描述
从脚本到成品的自动化引擎，支持多种内容形式和平台。

### 图文生成

**脚本 → 图文内容**
- Markdown 转精美排版
- 自动插入素材
- 多种排版模板（小红书、公众号风格）
- 导出为图片或 PDF

**生成流程**：
```
脚本 → 排版引擎 → 素材匹配 → 样式应用 → 导出
```

### 视频生成

**脚本 → 视频内容**
- 自动剪辑和拼接素材
- AI 配音生成
- 自动添加字幕
- 转场和特效

**生成流程**：
```
脚本 → 素材匹配 → 时间轴编排 → 配音生成 → 字幕生成 → 渲染
```

**技术栈**：
- FFmpeg（视频处理）
- AI 配音（TTS）
- 字幕生成（基于脚本）

### 多平台适配

**自动调整**：
- 尺寸适配（16:9、9:16、1:1）
- 时长调整（根据平台限制）
- 风格适配（不同平台的内容风格）

**支持平台**：
- 抖音（竖屏、15秒/60秒）
- B站（横屏、长视频）
- 小红书（图文/视频）
- 公众号（图文）

---

## 功能模块协作流程

```
用户意图（Agent 对话）
    ↓
生成脚本（脚本工作台）
    ↓
匹配素材（素材管理系统）
    ↓
生成内容（内容生成引擎）
    ↓
预览和调整
    ↓
导出和发布
```

---

**上一部分**：[01_产品定位与核心价值.md](./202601240954_01_产品定位与核心价值.md)
**下一部分**：[03_用户工作流.md](./202601240956_03_用户工作流.md)
