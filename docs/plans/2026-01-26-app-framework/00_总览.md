# CreatorFlow 应用框架设计 - 总览

> 版本：v1.0
> 日期：2026-01-26
> 作者：CreatorFlow Team

## 文档导航

本设计方案包含以下文档：

1. [00_总览.md](./00_总览.md)（本文档）- 设计概述和导航
2. [01_架构设计.md](./01_架构设计.md) - 整体架构和核心理念
3. [02_平台层设计.md](./02_平台层设计.md) - 插件系统和底层能力
4. [03_能力层设计.md](./03_能力层设计.md) - Skills 和 Workflows
5. [04_应用层设计.md](./04_应用层设计.md) - 应用定义和结构
6. [05_工作区初始化.md](./05_工作区初始化.md) - 用户体验流程
7. [06_市场体系.md](./06_市场体系.md) - 应用市场和技能市场
8. [07_开发者指南.md](./07_开发者指南.md) - 开发工具和工作流

## 设计背景

### 核心问题

CreatorFlow 当前是一个通用的 AI 助手平台，但存在以下问题：

1. **普通用户门槛高**：需要理解 model、agent、skill 等专业术语
2. **配置复杂**：需要手动配置各种能力才能开始工作
3. **场景不聚焦**：缺乏针对特定场景的完整解决方案
4. **能力难复用**：底层能力（UI、数据模型、集成）无法跨场景复用

### 设计目标

1. **降低使用门槛**：普通用户选择应用即可开始工作，无需了解底层概念
2. **零配置体验**：创建工作区时自动加载应用的所有能力和配置
3. **场景化解决方案**：提供完整的业务解决方案（如"自媒体创作"）
4. **能力可复用**：底层能力可以被多个应用复用
5. **支持专业用户**：提供应用市场和技能市场，支持自定义组合
6. **开发者友好**：提供约定式框架和完整的开发工具

## 核心设计决策

### 1. 应用级工作区

- 工作区创建时绑定主应用（如"自媒体创作"）
- 主应用决定工作区的核心能力边界
- 支持安装插件应用来扩展能力

### 2. 三层架构

- **平台层**：可复用的底层能力（UI 组件、数据模型、第三方集成）
- **能力层**：独立的 Skills 和 Workflows
- **应用层**：作为"能力组合器"，组合底层能力提供完整解决方案

### 3. 主应用 + 插件模式

- 一个工作区有一个主应用
- 可以安装多个插件应用来扩展能力
- 插件可以注入额外的 skills、workflows、UI 组件

### 4. 插件式能力定义

- 所有底层能力（UI/Models/Integrations）采用统一的插件接口
- 支持生命周期管理（onInstall、onLoad 等）
- 支持 UI 扩展和配置界面

### 5. 应用是能力组合器

- 应用通过声明式配置组合底层能力
- 应用不实现能力，只声明依赖和配置
- 支持运行时动态加载和热更新

### 6. 双市场体系

- **应用市场**：发布完整的业务解决方案
- **技能市场**：发布独立的 Skills 和 Workflows
- 支持免费和付费模式

### 7. 引导式初始化

- 用户创建工作区时通过引导流程完成配置
- 自动安装依赖、创建目录结构、应用默认配置
- 提供快速开始引导

## 典型用例

### 用例 1：普通用户 - 自媒体创作者

**场景**：小红书创作者想要使用 AI 辅助创作

**流程**：
1. 创建工作区，选择"自媒体创作"应用
2. 引导配置：选择工作目录、绑定小红书账号
3. 工作区自动加载：
   - 内容日历、作品编辑器等 UI 组件
   - 素材整理、脚本创作等 AI 技能
   - 选题到发布的完整工作流
4. 直接开始使用，无需任何额外配置

### 用例 2：专业用户 - 扩展能力

**场景**：自媒体创作者需要数据分析能力

**流程**：
1. 在现有"自媒体创作"工作区中
2. 打开应用市场，搜索"数据分析"插件
3. 安装插件，自动注入数据分析相关的 skills 和 UI 组件
4. 工作区能力扩展完成

### 用例 3：开发者 - 发布应用

**场景**：开发者想要创建"项目管理"应用

**流程**：
1. 使用 CLI 创建应用项目：`creatorflow create app project-management`
2. 开发自定义 UI 组件、数据模型、集成
3. 配置应用 manifest，声明依赖和能力
4. 本地测试：`creatorflow dev`
5. 打包发布：`creatorflow pack && creatorflow publish`
6. 用户可以在应用市场安装使用

## 技术栈

### 前端
- React + TypeScript
- Electron（桌面应用）
- Tailwind CSS（样式）
- Jotai（状态管理）

### 后端
- Node.js + TypeScript
- SQLite（本地数据库）
- MCP（Model Context Protocol）

### 开发工具
- CLI：`creatorflow-cli`
- SDK：`@creatorflow/plugin-sdk`
- 构建工具：Vite

## 实施计划

### Phase 1：核心框架（4-6 周）
- 实现三层架构
- 实现插件系统
- 实现应用加载机制
- 实现工作区初始化流程

### Phase 2：开发工具（2-3 周）
- 开发 CLI 工具
- 开发 Plugin SDK
- 编写开发者文档

### Phase 3：示例应用（3-4 周）
- 开发"自媒体创作"应用
- 开发基础平台能力（UI/Models/Integrations）
- 开发基础 Skills 和 Workflows

### Phase 4：市场体系（4-5 周）
- 实现应用市场
- 实现技能市场
- 实现支付和分成系统

## 后续阅读

请按顺序阅读以下文档以了解完整设计：

1. [架构设计](./01_架构设计.md) - 了解整体架构
2. [平台层设计](./02_平台层设计.md) - 了解插件系统
3. [能力层设计](./03_能力层设计.md) - 了解 Skills 和 Workflows
4. [应用层设计](./04_应用层设计.md) - 了解应用定义
5. [工作区初始化](./05_工作区初始化.md) - 了解用户体验
6. [市场体系](./06_市场体系.md) - 了解市场机制
7. [开发者指南](./07_开发者指南.md) - 了解如何开发应用
